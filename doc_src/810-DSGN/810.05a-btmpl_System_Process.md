![booklab_logo](../pictures/booklab_logo.png){ width="55" align=left }
<small markdown>**BookLab System**<br>
*(c) 2023 RENware Software Systems*
</small><br><br>


# TMPL sablon carte noua


***Cuprins:***

[TOC]

***

## Sablonul pentru o carte noua

Acesta reprezinta sablonul (template) folosit in procesul de creare a unei carti noi (proces `NEWB`). Acest sablon contine urmatoarele elemente:

* *sectiunile (documentele) de start ale cartii* - pagina de `index.md` si documentul PDF final, ambele goale dar minim necesare in inceperea cartii

* *scripturile comenzi management carte* - reprezinta scripturile cu comenzile necesare pentru managementul si "operarea" acelei carti:
    * generarea temporara (de lucru) a cartii pentru previzualizare
    * generarea si asamblarea finala a cartii
    * pornirea serverului de previzualizare (server local HTTP)
    * monitorizarea fisierelor locale in timpul previzualizarii pentru a detectat eventuale modificari facute de utilizator

* *baza de date a cartii* este baza de date cu detaliile unei carti, baza de date ce este referentiata din [sectiunes catalogul cartilor](#catalogul-cartilor-baza-de-date). Continutul brut al [bazei de date cu catalogul cartilor](../data/books_catalog.json)

!!! info "Localizarea modulului"
    Acest modul este localizat in directorul `book_<cod_carte>` numele acestuia construit in felul urmator:

    * prefixul `book_` este un sir de caractere constant
    * sufixul `<cod_carte>` este reprezentat de atributul (cheia) `"code"` din baza de date de carti (`data/books_catalog.json`) iar **case-ul = majuscule, minuscule** NU CONTEAZA - se va considera (coverti) intodeauna la minuscule (lowercase)

    Acest director va fi numit generic **`<book_directory>`** in materiale / documentatie.




## Comenzile executabile pentru carte

Aceasta sectiune enumera si descrie sumar fisierele ce contin comenzile executabile aferente unei carti. Aceste comenzi sunt aceleasi pentru orice carte (motiv pentru care se gasesc in sablonul de carte).

Fiecare comanda poate primi ca paramtru de intrare (si daca il primeste este *pozitional si primul*) **identificatorul cartii sub forma atributului / cheii `code`** din baza de date cu carti (`<PROJECT_ROOT>/data/books_catalog.json`).

Fisierele ce contin comenzi executabile au numele de forma **`bkcmd_...`** si extensia corespunzatoare limbajului de programare in care sunt scrise (py, sh, etc). Toate aceste fisiere respecta conventia `Bash Linux` referitoare la prima linie respectiv "shebang" (`#!`).

Lista fisierelor cu comenzi executabile:

* ...
* ...
* ...




![wip page](../pictures/under_maintenance.png){ width="200" }

-#TODO... TO BE CONTINUED...







## Fisierul de configurare a cartii (book config file)


### Sectiunea "HEAD" (informatii generale si copyright)

>**LOCALIZARE:** `<book_directory>/book_config_parts/cfg_01_head_yml_section.yml`

Aceasta sectiune contine partea de informatii generale despre carte (nume, autor) si informatia referitoare la copyright-ul cartii (ce va apare in subsolul acesteia). Aceste informatii sunt sub forma unor cimpuri Jinja ce vor fi actualizate (rendering) la generarea cartii efective.

!!! info "Informatiile tip sablon Jinja din fisierul de configurare"
    Aceste informatii sunt prezentate mai jos.Se indica si cheia din fisierul de date JSON aferente:

    {% raw %}
    * `{{ book.short_desc }}` == JSON short_desc
    * `{{ book.site_author }}` == JSON site_author
    * `{{ book.copyright }}` == JSON copyright
    {% endraw %}



### Sectiunea "NAVIGATION" (strutura meniu navigare)

>**LOCALIZARE:** `<book_directory>/book_config_parts/cfg_02_nav_yml_section.yml`

Aceasta sectiune contine elementele de navigare ce vor apare in `navigation bar(s) - top, left si right`:

* denumirile ce vor apare in meniuri si fisierele PDF
* link-urile catre documentele (paginile) chemate sau catre alte site-uri (URL-uri externe)
* ordinea de afisare a acestora atit in meniu cit si cuprinsul in documentele PDF asamblate

<!-- #TODO describe efective details -->

![wip page](../pictures/under_maintenance.png){ width="200" }

-#TODO... UPCOMING with detailed information...



### Sectiunea "EXTENSIONS" (extensiile si modulele Python)

>**LOCALIZARE:** `<book_directory>/book_config_parts/cfg_03_extension_yml_section.yml`

Aceasta sectiune contine partea de module / extensii Python necesare pentru renderingul fisierelor `markdown` (diverse extensii si add-on-uri la formatul markdoen standard).

<!-- #TODO describe efective details -->

![wip page](../pictures/under_maintenance.png){ width="200" }

-#TODO... UPCOMING with detailed information...



### Sectiunea "WORK DIRECTORIES" (directoarele de lucru)

>**LOCALIZARE:** `<book_directory>/book_config_parts/cfg_04_dirs_yml_section.yml`

Aceasta sectiune contine numele directoarelor de lucru ale "sistemului `mkdocs`" cele mai importante fiind directorul de generare temporara (pentru verificare) si directorul de generare si asamblare finala site carte si PDF "bun de tipar"

<!-- #TODO describe efective details -->

![wip page](../pictures/under_maintenance.png){ width="200" }

-#TODO... UPCOMING with detailed information...

